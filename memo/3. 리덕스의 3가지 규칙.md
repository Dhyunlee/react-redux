# 리덕스의 3가지 규칙

### 리덕스를 사용할 때 지켜야할 3가지 규칙에 대해서 살펴보자!

<br><br>

## 1) 하나의 애플리케이션안에는 하나의 스토어가 있다.

### ◎ 즉, 스토어를 1개 이상 만들면 안된다.

### → 여러 스토어를 만드는 것은 가능하지만 권장되지는 않는다.

### → 특정 업데이트가 너무 빈번하게 일어나거나, 애플리케이션의 특정

### &nbsp;&nbsp;&nbsp; 부분을 완전히 분리시키게 될 때, 여러 개의 스토어를 만들 수는 있지만 그렇게 되면 개발도구를

### &nbsp;&nbsp;&nbsp; 활용할 수 없다.

<br><br>

## 2) 상태는 읽기 전용이다.

### ◎ 즉 불변성을 지켜줘야한다.

### &nbsp;&nbsp; ● state를 업데이트할 때 setState를 사용하여 업데이트

### &nbsp;&nbsp; ● 배열에서 concat같은 함수를 사용해 기존의 배열을 직접 수정(push)하지 않고 새로운 배열을 만들어서

### &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 교체하는 방식으로 업데이트

### &nbsp;&nbsp; ● 깊은 구조의 객체를 업데이트를 할 때도 기존의 객체는 거드리지 않고 Object.assign을 사용하거나

### &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spread연산자(...)를 사용하여 업데이트

<br>

### ◎ 리덕스에서도 마찬가지로 기존의 상태를 건들이지 않고 새로운 상태를 생성하여 업데이트 해주는

### &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 방식으로 해주면 나중에 개발자 도구를 통해 이전 상태로 되돌릴 수 있고 다시 앞으로 돌릴 수도 있다.

<br>

### ◎ 리덕스에서 불변성을 유지해야 하는 이유는 내부적으로 데이터가 변경되는 것을 감지하기 위해

### &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shallow equality 검사를 하기 때문이다. 이를 통해 객체의 변화를 감지할 때 객체의 깊숙한 안쪽까지

### &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 비교를 하는 것이 아닌 겉만 비교를 하여 좋은 성능을 유지할 수 있다.

<br><br>

## 3) 변화를 일으키는 함수인 리듀서는 순수 함수여야 한다.

### ★ 여기서 순수 함수의 개념에 대해 익숙치 않으면 다음 사항을 기억하자!

### &nbsp;&nbsp; ● 리듀서 함수는 이전 상태와 액션 객체를 파라미터로 받는다.

### &nbsp;&nbsp; ● 이전의 상태는 절대로 건들이지 않고, 변화를 일으킨 새로운 상태 객체를 만들어서 반환한다. (불변성 유지)

### &nbsp;&nbsp; ● 똑같은 파라미터로 호출된 리듀서 함수는 언제나 동일한 결과값을 반환해야한다.

<br>

### 💡 즉, 동일한 인풋이라면 언제나 동일한 아웃풋이 있어야 한다. 그런데 만약 일부 로직들 중 다음과 같은 사항이라면

### &nbsp;&nbsp;&nbsp;&nbsp; 리듀서 함수의 바깥에서 처리해줘야한다.

### &nbsp;&nbsp;&nbsp;&nbsp; ● 일부 로직들 중에서 실행할 때마다 다른 결과값을 보여줘야할 때

### &nbsp;&nbsp;&nbsp;&nbsp; ● new Date() 또는 랜덤 숫자를 생성할 때

### &nbsp;&nbsp;&nbsp;&nbsp; ● ajax(axios)를 통해 네트워크에 요청(비동기 작업)을 할 때

### → 이런 사항이라면 컴포넌트단에서 처리하거나 미들웨어(redux-thunk, redux-saga등)를 사용해야한다.

<br><br>

### 여기까지가 리덕스를 사용하기 위한 기본적인 개념들이다. 이제 직접 사용해보면서 익혀보자!
